[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiURL","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":4,"doc_string":{"content_type":"","value":"17:27:05.304 karate.env system property was: null \n","line":4}},{"name":"def timevalidator = read('classpath:helpers\/timevalidator.js')","result":{"duration":1807600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"start_timestamp":"2024-07-14T10:27:05.301Z","line":6,"name":"Favorite articles","description":"","id":"favorite-articles","type":"scenario","keyword":"Scenario","steps":[{"name":"path \"articles\"","result":{"duration":194400,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 1: Get atricles of the global feed"],"keyword":"Given","line":8},{"name":"params {limit: 10, offset: 0}","result":{"duration":164400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method Get","result":{"duration":703219700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10},{"name":"status 200","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11},{"name":"def articleID = response.articles[0].slug","result":{"duration":992300,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 2: Get the favorites count and slug ID for the first arice, save it to variables"],"keyword":"*","line":13},{"name":"def favoritecount = response.articles[0].favoritesCount","result":{"duration":387100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"path \"articles\" , articleID , \"favorite\"","result":{"duration":266500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 3: Make POST request to increse favorites count for the first article"],"keyword":"Given","line":17},{"name":"method Post","result":{"duration":605360200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":18},{"name":"status 200","result":{"duration":393000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":19},{"result":{"duration":3386200,"status":"passed"},"comments":["# Step 4: Verify response schema"],"line":21,"name":"match response.article ==","match":{"location":"karate","arguments":[]},"keyword":"And","doc_string":{"content_type":"","value":"{   \"id\": \"#number\",\n    \"slug\": \"#string\",\n    \"title\": \"#string\",\n    \"description\": \"#string\",\n    \"body\": \"#string\",\n    \"createdAt\": \"#? timevalidator(_)\",\n    \"updatedAt\": \"#? timevalidator(_)\",\n    \"authorId\": \"#number\",\n    \"tagList\": [],\n    \"author\": {\n        \"username\": \"#string\",\n        \"bio\": \"##string\",\n        \"image\": \"#string\",\n        \"following\": #boolean\n    },\n    \"favoritedBy\": [\n        {\n            \"id\": 37623,\n            \"email\": \"#string\",\n            \"username\": \"#string\",\n            \"password\": \"#string\",\n            \"image\": \"#string\",\n            \"bio\": \"##string\",\n            \"demo\": #boolean\n        }\n    ],\n    \"favorited\": #boolean,\n    \"favoritesCount\": \"#number\"\n}","line":21}},{"name":"def initialCount = 0","result":{"duration":578900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 5: Verify that favorites article incremented by 1"],"keyword":"*","line":54},{"name":"def fav_response = {\"favoritesCount\": 1}","result":{"duration":127900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"match fav_response.favoritesCount == initialCount + 1","result":{"duration":516500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":56},{"name":"path \"user\"","result":{"duration":498900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# getuser"],"keyword":"Given","line":59},{"name":"method Get","result":{"duration":589743000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":60},{"name":"status 200","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":61},{"name":"def username = response.user.username","result":{"duration":611900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"path \"articles\"","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 6: Get all favorite articles"],"keyword":"Given","line":65},{"name":"params {favorited: #(username), limit: 10, offset: 0}","result":{"duration":313600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":66},{"name":"method Get","result":{"duration":672174000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":67},{"name":"status 200","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":68},{"result":{"duration":6644500,"status":"passed"},"comments":["# Step 7: Verify response schema"],"line":70,"name":"match each response.articles ==","match":{"location":"karate","arguments":[]},"keyword":"And","doc_string":{"content_type":"","value":"{\n    \"slug\": \"#string\",\n    \"title\": \"#string\",\n    \"description\": \"#string\",\n    \"body\": \"#string\",\n    \"tagList\": \"#array\",\n    \"createdAt\":  \"#? timevalidator(_)\",\n    \"updatedAt\":  \"#? timevalidator(_)\",\n    \"favorited\": #boolean,\n    \"favoritesCount\": \"#number\",\n    \"author\": {\n        \"username\": \"#string\",\n        \"bio\": \"##string\",\n        \"image\": \"#string\",\n        \"following\": #boolean\n    }\n}","line":70}},{"name":"match response.articlesCount == \"#number\"","result":{"duration":582500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":91},{"name":"match response.articles[0].slug == articleID","result":{"duration":221500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 8: Verify that slug ID from Step 2 exist in one of the favorite articles"],"keyword":"And","line":93}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiURL","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":4,"doc_string":{"content_type":"","value":"17:27:07.899 karate.env system property was: null \n","line":4}},{"name":"def timevalidator = read('classpath:helpers\/timevalidator.js')","result":{"duration":410300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"start_timestamp":"2024-07-14T10:27:07.899Z","line":95,"name":"Comment articles","description":"","id":"comment-articles","type":"scenario","keyword":"Scenario","steps":[{"name":"path \"articles\"","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 1: Get atricles of the global feed"],"keyword":"Given","line":97},{"name":"params {limit: 10, offset: 0}","result":{"duration":123200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":98},{"name":"method Get","result":{"duration":696730100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":99},{"name":"status 200","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":100},{"name":"def articleID = response.articles[0].slug","result":{"duration":250800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 2: Get the slug ID for the first arice, save it to variable"],"keyword":"*","line":102},{"name":"path \"articles\", articleID , \"comments\"","result":{"duration":521700,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 3: Make a GET call to 'comments' end-point to get all comments"],"keyword":"Given","line":104},{"name":"method Get","result":{"duration":595514200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":105},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":106},{"name":"def commentsCount = response.comments.length","result":{"duration":604000,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 5: Get the count of the comments array lentgh and save to variable"],"keyword":"*","line":111},{"name":"path \"articles\", articleID , \"comments\"","result":{"duration":132900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 6: Make a POST request to publish a new comment"],"keyword":"Given","line":114},{"name":"request {\"comment\":{\"body\":\"hey\"}}","result":{"duration":98000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":115},{"name":"method Post","result":{"duration":608118000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":116},{"name":"status 200","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":117},{"name":"def commentID = response.comment.id","result":{"duration":850500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":118},{"name":"path \"articles\", articleID , \"comments\"","result":{"duration":131200,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 7: Verify response schema that should contain posted comment text","# Step 8: Get the list of all comments for this article one more time"],"keyword":"Given","line":123},{"name":"method Get","result":{"duration":1216216900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":124},{"name":"status 200","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":125},{"name":"match response.comments[*].id contains [#(commentID)]","result":{"duration":1377700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":126},{"result":{"duration":2228400,"status":"passed"},"comments":["# Step 4: Verify response schema"],"line":128,"name":"match each response.comments ==","match":{"location":"karate","arguments":[]},"keyword":"And","doc_string":{"content_type":"","value":"{\n    \"id\": \"#number\",\n    \"createdAt\": \"#? timevalidator(_)\",\n    \"updatedAt\": \"#? timevalidator(_)\",\n    \"body\": \"#string\",\n    \"author\": {\n        \"username\": \"#string\",\n        \"bio\": ##string,\n        \"image\":\"#string\",\n        \"following\": #boolean,\n    }\n}","line":128}},{"name":"def newCommentCount = response.comments.length","result":{"duration":204800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 9: Verify number of comments increased by 1 (similar like we did with favorite counts)"],"keyword":"*","line":144},{"name":"match newCommentCount == commentsCount +1","result":{"duration":732200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":145},{"name":"path \"articles\", articleID , \"comments\", commentID","result":{"duration":331300,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 10: Make a DELETE request to delete comment"],"keyword":"Given","line":148},{"name":"method Delete","result":{"duration":632865200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":149},{"name":"status 200","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":150},{"name":"path \"articles\", articleID , \"comments\"","result":{"duration":198100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 11: Get all comments again and verify number of comments decreased by 1"],"keyword":"Given","line":152},{"name":"method Get","result":{"duration":593574800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":153},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":154},{"name":"match response.comments[*].id !contains [#(commentID)]","result":{"duration":1466800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":155},{"name":"def afterDeleteCommentCount = response.comments.length","result":{"duration":187200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":156},{"name":"match afterDeleteCommentCount == newCommentCount - 1","result":{"duration":3567000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":157}],"tags":[]}],"name":"conduitApp\/feature\/HomeWork.feature","description":"Favorite and Comment","id":"favorite-and-comment","keyword":"Feature","uri":"conduitApp\/feature\/HomeWork.feature"}]